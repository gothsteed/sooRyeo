<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="course">


	<resultMap id="CourseJoinCurriculum" type="com.sooRyeo.app.domain.Course">
		<id property="course_seq" column="curriculum_seq" />
		<result property="fk_professor_id" column="fk_professor_id" />
		<result property="fk_curriculum_seq" column="fk_curriculum_seq" />
		<result property="fk_time_seq" column="fk_time_seq" />
		<result property="capacity" column="capacity" />
		<result property="semester_date" column="semester_date" />
		<association property="curriculum" javaType="com.sooRyeo.app.domain.Curriculum">
			<id property="curriculum_seq" column="curriculum_seq" />
			<result property="fk_department_seq" column="fk_department_seq" />
			<result property="grade" column="grade" />
			<result property="name" column="name" />
			<result property="credit" column="credit" />
			<result property="required" column="required" />
		</association>
	</resultMap>





	<insert id="getStudentCourseList">


	</insert>


	<select id="getProfCourseList" parameterType="int" resultMap="CourseJoinCurriculum">
		select *
		from 
		tbl_course v1
		join
		tbl_curriculum v2
		on v1.fk_curriculum_seq = v2.curriculum_seq
		where v1.FK_PROFESSOR_ID= ${prof_id}
	</select>
	
	
	<select id="getCourseTimes" parameterType="int" resultType="com.sooRyeo.app.domain.Time">
		select *
		from tbl_time
		where fk_course_seq = ${course_seq}
	</select>




</mapper>